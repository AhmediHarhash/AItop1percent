# Chapter 4 — Multi-Turn Conversation and Context Management

Conversations are stateful, fragile, and expensive. Every turn adds context, costs tokens, and risks drift. Good multi-turn architecture manages state explicitly, repairs broken turns gracefully, and hands off context safely when needed.

---

## What This Chapter Covers

- **4.1** — Conversation State Machines: Designing Multi-Turn Flows
- **4.2** — Context Window Management: Truncation, Summarization, Sliding Windows
- **4.3** — Memory Architecture: Short-Term, Long-Term, and Episodic
- **4.4** — System Prompt Evolution Across Conversation Turns
- **4.5** — Turn-Level Prompt Injection and Context Poisoning
- **4.6** — Conversation Repair: Recovering from Bad Turns
- **4.7** — Multi-Turn Tool Use: Maintaining State Across Tool Calls
- **4.8** — User Preference Learning Within Conversations
- **4.9** — Conversation Branching and Rollback Patterns
- **4.10** — Session Handoff: Transferring Context Between Models or Agents
- **4.11** — Conversation Analytics: Measuring Multi-Turn Quality
- **4.12** — Locale-Aware Prompting: Language Routing, Formality, and Policy Differences

---

*State is the enemy of reliability — manage it ruthlessly.*
