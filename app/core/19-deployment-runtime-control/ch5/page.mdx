# Chapter 5 — Runtime Request Routing and Fallbacks

Static model assignment fails in production. You pick a model at design time, hard-code it into your application, and hope it works for every request, every user, every condition. It doesn't. Some requests need speed over quality. Some need the cheapest model that meets the bar. Some arrive when your primary provider is down. Some belong to a tenant who paid for the premium model. Static routing treats all requests the same. Real systems route dynamically based on cost, latency, quality, availability, and context at request time.

This chapter teaches runtime routing strategies that keep your system running when models fail, providers go down, or budgets run out. You'll learn cost-aware routing that switches to cheaper models when quality thresholds are met, latency-aware routing that picks the fastest option for time-sensitive requests, quality-aware routing that sends complex inputs to stronger models, and fallback hierarchies that degrade gracefully from primary to secondary to cached to human. You'll learn how to split traffic for A/B tests, route by tenant or user, hot-reload routing rules without redeployment, and observe where every request goes and why. By the end, you'll have the decision framework to build routing logic that adapts to production reality instead of pretending every request is the same.

---

- 5.1 — The Routing Problem: Why Static Model Assignment Fails
- 5.2 — Cost-Aware Routing: Cheapest Model That Meets Quality Bar
- 5.3 — Latency-Aware Routing: Fastest Model for This Request
- 5.4 — Quality-Aware Routing: Best Model for This Input Type
- 5.5 — Fallback Hierarchies: Primary, Secondary, Tertiary, Cached, Human
- 5.6 — Multi-Provider Failover: OpenAI to Anthropic to Self-Hosted
- 5.7 — Request Splitting for A/B Tests and Experiments
- 5.8 — Context-Based Routing: Routing by User, Tenant, or Input Characteristics
- 5.9 — Routing Rule Configuration and Hot-Reload
- 5.10 — Routing Observability: Tracking Where Requests Go and Why
- 5.11 — The Routing Decision Framework: Building Your Routing Strategy

---

*When your primary model goes down at 2am, your routing logic is the difference between silent failover and cascading outage.*
