# Chapter 8 — Agent Safety, Guardrails, and Runtime Control

Agents act in the world. They call APIs, modify data, send emails, make purchases, and execute code. That autonomy is powerful — and dangerous.

The difference between a production-ready agent and a liability is guardrails. Not post-hoc monitoring. Not hoping the model behaves. Guardrails are architecture-level controls that prevent harmful actions before they happen, enforce boundaries at every decision point, and ensure that when things go wrong, they fail safely.

This chapter covers the defense-in-depth approach to agent safety: multiple layers of control, from input validation to output filtering, from budget enforcement to kill switches. You'll learn how to design guardrails that scale with autonomy, prevent the most common attack vectors, and meet compliance requirements without strangling agent capability.

---

## What This Chapter Covers

- **8.1** — Defense-in-Depth Architecture for Agents
- **8.2** — Input Guardrails: Validating Requests Before Execution
- **8.3** — Planning Guardrails: Constraining What Agents Can Plan
- **8.4** — Tool Execution Guardrails: Sandboxing and Permission Enforcement
- **8.5** — Output Guardrails: Filtering Responses and Side Effects
- **8.6** — Budget Guardrails: Token, Cost, and Resource Limits
- **8.7** — Time and Latency Guardrails: Preventing Runaway Agents
- **8.8** — Kill Switches: Emergency Stop Mechanisms
- **8.9** — Sandboxing and Isolation Strategies
- **8.10** — Hallucination Prevention in Agentic Workflows
- **8.11** — Prompt Injection Defense for Agents
- **8.12** — Audit Trails and Explainability Requirements
- **8.13** — Guardrail Performance: Latency vs Safety Tradeoffs
- **8.14** — Adaptive Guardrails: Context-Aware Controls
- **8.15** — Verification Architecture: Trust-But-Verify Patterns
- **8.16** — Two-Person Rule Patterns for High-Stakes Actions
- **8.17** — Data Minimization and Access Control
- **8.18** — Secret-Adjacent Attacks and Defense
- **8.19** — Compliance Requirements by Autonomy Tier

---

*Let's start with the layered defense architecture that keeps agents safe without making them useless.*
